import{_ as t,o as d,c,a as s,b as e,w as i,e as l,d as n,r as o}from"./app.0e282d90.js";const r={},p=l('<h1 id="\u110B\u116E\u1107\u116E\u11AB\u1110\u116E\u110B\u1166\u1109\u1165\u110B\u1174-misskey-\u1109\u1165\u11AF\u110E\u1175-\u1107\u1161\u11BC\u1107\u1165\u11B8-\u110C\u1161\u1109\u1166\u1112\u1175-\u1107\u1169\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#\u110B\u116E\u1107\u116E\u11AB\u1110\u116E\u110B\u1166\u1109\u1165\u110B\u1174-misskey-\u1109\u1165\u11AF\u110E\u1175-\u1107\u1161\u11BC\u1107\u1165\u11B8-\u110C\u1161\u1109\u1166\u1112\u1175-\u1107\u1169\u1100\u1175" aria-hidden="true">#</a> \uC6B0\uBD84\uD22C\uC5D0\uC11C\uC758 Misskey \uC124\uCE58 \uBC29\uBC95 \uC790\uC138\uD788 \uBCF4\uAE30</h1><div class="custom-container tip"><i class="fas fa-info"></i><p>\uBCF8 \uBB38\uC11C\uB294 DeepL\uC744 \uD1B5\uD574 \uAE30\uACC4 \uBC88\uC5ED \uBC0F \uC218\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uD5A5\uD6C4 \uC9C1\uC811 \uBC88\uC5ED\uC774 \uC81C\uACF5\uB420 \uC608\uC815\uC785\uB2C8\uB2E4.</p></div><h2 id="\u1100\u1175\u1110\u1161-misskey-\u1109\u1165\u11AF\u110E\u1175-\u1107\u1161\u11BC\u1107\u1165\u11B8" tabindex="-1"><a class="header-anchor" href="#\u1100\u1175\u1110\u1161-misskey-\u1109\u1165\u11AF\u110E\u1175-\u1107\u1161\u11BC\u1107\u1165\u11B8" aria-hidden="true">#</a> \uAE30\uD0C0 Misskey \uC124\uCE58 \uBC29\uBC95</h2>',3),u=n("\uAE30\uBCF8 \uBC84\uC804 Misskey \uAD6C\uCD95 \uAC00\uC774\uB4DC (manual.html)"),v=n("\uAE30\uD0C0 \uC124\uCE58 \uBC29\uBC95 \uBAA9\uB85D"),m=s("h2",{id:"\u1109\u1170\u11AF-\u1109\u1173\u110F\u1173\u1105\u1175\u11B8\u1110\u1173-\u110B\u1161\u11AB\u1102\u1162",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u1109\u1170\u11AF-\u1109\u1173\u110F\u1173\u1105\u1175\u11B8\u1110\u1173-\u110B\u1161\u11AB\u1102\u1162","aria-hidden":"true"},"#"),n(" \uC258 \uC2A4\uD06C\uB9BD\uD2B8 \uC548\uB0B4")],-1),h=n("\uBCF5\uC0AC, \uBD99\uC5EC\uB123\uAE30\uB9CC \uD558\uBA74 \uC258 \uC2A4\uD06C\uB9BD\uD2B8\uB85C \uD558\uBA74 \uB418\uC9C0 \uC54A\uB290\uB0D0\uB294 \uC0DD\uAC01\uC5D0 "),b=s("strong",null,"\uC258 \uC2A4\uD06C\uB9BD\uD2B8\uB85C \uAC70\uC758 \uBAA8\uB4E0 \uC791\uC5C5\uC744 \uD574\uC8FC\uB294 \uAC83\uC744 \uB9CC\uB4E4\uC5B4 \uBD24\uC2B5\uB2C8\uB2E4!",-1),k=s("br",null,null,-1),g=n("\uC258 \uC2A4\uD06C\uB9BD\uD2B8\uC5D0 \uB300\uD55C \uC790\uC138\uD55C \uB0B4\uC6A9\uACFC \uC0AC\uC6A9\uBC95\uC740 \uC5EC\uAE30\uC5D0\uC11C \uD655\uC778\uD558\uC138\uC694! **"),f=l('<div class="custom-container tip"><i class="fas fa-info"></i><p>\uC258 \uC2A4\uD06C\uB9BD\uD2B8\uB85C \uAC1C\uBC1C \uD658\uACBD\uC5D0 \uC124\uCE58\uD558\uB294 \uAC83\uC740 \uAD8C\uC7A5\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.</p></div><div class="custom-container tip"><i class="fas fa-info"></i><p>\uB3C4\uBA54\uC778 \uAD6C\uB9E4 \uBC0F Cloudflare \uC124\uC815, \uC11C\uBC84 \uD655\uBCF4\uB294 \uC9C1\uC811 \uC900\uBE44\uD574 \uC8FC\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.</p></div><p>\uBB38\uC81C\uAC00 \uC788\uC73C\uBA74 <a href="https://p1.a9z.dev/@aqz" target="_blank" rel="noopener noreferrer">@aqz@p1.a9z.dev \uC5D0 \uBA58\uC158</a>\uC73C\uB85C \uC54C\uB824\uC8FC\uC2DC\uBA74 \uAC10\uC0AC\uD558\uACA0\uC2B5\uB2C8\uB2E4.</p><h2 id="\u110B\u1175-\u1100\u1173\u11AF\u110B\u1166-\u1103\u1162\u1112\u1162" tabindex="-1"><a class="header-anchor" href="#\u110B\u1175-\u1100\u1173\u11AF\u110B\u1166-\u1103\u1162\u1112\u1162" aria-hidden="true">#</a> \uC774 \uAE00\uC5D0 \uB300\uD574</h2>',4),y=n("\uC774 \uAE00\uC740 "),x=n("Misskey \uAD6C\uCD95 \uAC00\uC774\uB4DC (manual.html)"),_=n("\uC5D0 \uC18C\uAC1C\uB41C \uB300\uB85C systemd\uC5D0\uC11C Misskey\uB97C \uB3D9\uC791\uC2DC\uD0A4\uACE0 \uC788\uC2B5\uB2C8\uB2E4."),M=n("docker-compose"),E=n("\uC744 \uC0AC\uC6A9\uD558\uBA74 \uC218\uC791\uC5C5\uC73C\uB85C\uB3C4 \uC870\uAE08 \uB354 \uC27D\uAC8C \uC2E4\uD589\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."),C=s("div",{class:"custom-container danger"},[s("i",{class:"fas fa-times"}),s("p",null,"\uD55C \uBC88 \uC0AC\uC6A9\uC744 \uC2DC\uC791\uD55C \uB3C4\uBA54\uC778/\uD638\uC2A4\uD2B8\uBA85\uC73C\uB85C DB\uB97C \uC0C8\uB85C \uC0DD\uC131\uD558\uC9C0 \uB9C8\uC138\uC694!")],-1),q=s("h2",{id:"\u1109\u1175\u110C\u1161\u11A8",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u1109\u1175\u110C\u1161\u11A8","aria-hidden":"true"},"#"),n(" \uC2DC\uC791")],-1),S=n("\uC774 \uAE00\uC5D0\uC11C\uB294 "),N=n("Misskey \uAD6C\uCD95 \uAC00\uC774\uB4DC (manual.html)"),D=n("\uC744 \uBC14\uD0D5\uC73C\uB85C \uC77C\uBC18\uC801\uC778 \uC6B0\uBD84\uD22C \uC11C\uBC84\uC5D0 Misskey\uB97C \uC124\uCE58\uD558\uACE0 \uACF5\uAC1C\uD558\uB294 \uBC29\uBC95\uC744 \uD558\uB098\uD558\uB098 \uC124\uBA85\uD569\uB2C8\uB2E4."),w=l(`<p>Bash \uBA85\uB839\uC5B4 \uC785\uB825, \uBA87 \uAC00\uC9C0 \uC124\uC815 \uD30C\uC77C \uD3B8\uC9D1, \uADF8\uB9AC\uACE0 \uBE0C\uB77C\uC6B0\uC800 \uC870\uC791\uB9CC\uC73C\uB85C \uC124\uC815\uC774 \uC644\uB8CC\uB418\uB3C4\uB85D \uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4.<br> \uC124\uCE58\uD558\uB294 \uC18C\uD504\uD2B8\uC6E8\uC5B4\uC5D0 \uB300\uD574 \uAC04\uB7B5\uD558\uAC8C \uC124\uBA85\uD558\uACE0 \uC788\uC9C0\uB9CC, \uC2E0\uACBD \uC4F8 \uD544\uC694\uB294 \uC5C6\uC2B5\uB2C8\uB2E4.</p><p>\uC774 \uAE00\uC5D0\uC11C\uB294 \uAD6C\uCCB4\uC131\uC744 \uC911\uC2DC\uD558\uC5EC \uD2B9\uC815 \uD658\uACBD\uC5D0 \uD2B9\uD654\uB41C \uC124\uBA85\uC744 \uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4.<br> OS\uC758 \uCC28\uC774, Misskey \uBCF8\uCCB4\uB098 \uC758\uC874\uD558\uB294 \uC18C\uD504\uD2B8\uC6E8\uC5B4\uC758 \uBC84\uC804\uC5C5\uC73C\uB85C \uBCC0\uACBD\uB41C \uBD80\uBD84 \uB4F1\uC774 \uC788\uC744 \uC218 \uC788\uC9C0\uB9CC, \uC591\uD574\uD574 \uC8FC\uC138\uC694.</p><p>\uBAA8\uB974\uB294 \uB2E8\uC5B4\uC5D0 \uB300\uD574\uC11C\uB294 <a href="https://wa3.i-3-i.info/" target="_blank" rel="noopener noreferrer">\u300E&quot;\uC54C \uAC83 \uAC19\uC9C0\uB9CC&quot;&quot;\uBAA8\uB974\uC9C0\uB9CC&quot;&quot;\uC54C \uAC83 \uAC19\uC9C0\uB9CC&quot;&quot;\uC54C \uAC83 \uAC19\uC740&quot; IT \uC6A9\uC5B4\uC0AC\uC804\u300F</a>\uC5D0\uC11C \uCC3E\uC544\uBCF4\uACE0 \uC774\uD574\uD55C \uB2E4\uC74C \uBCF4\uC2DC\uBA74 \uC88B\uC2B5\uB2C8\uB2E4.</p><h2 id="\u1112\u116A\u11AB\u1100\u1167\u11BC\u1100\u116A-\u110C\u1169\u1100\u1165\u11AB" tabindex="-1"><a class="header-anchor" href="#\u1112\u116A\u11AB\u1100\u1167\u11BC\u1100\u116A-\u110C\u1169\u1100\u1165\u11AB" aria-hidden="true">#</a> \uD658\uACBD\uACFC \uC870\uAC74</h2><ul><li>OS\uB294 <strong>Ubuntu 22.04.1 LTS</strong>\uB97C \uC774\uC6A9\uD569\uB2C8\uB2E4.</li><li>\uD558\uB4DC\uC6E8\uC5B4 \uC694\uAD6C\uC0AC\uD56D\uC740 \uB2E4\uC74C\uACFC \uAC19\uC2B5\uB2C8\uB2E4. <ul><li>CPU: \uCD5C\uC2E0 CPU\uB77C\uBA74 \uB3D9\uC791\uD569\uB2C8\uB2E4. AMD64 (x86-x64), ARM64 \uBAA8\uB450\uC5D0 \uB300\uD574 \uC774\uC6A9 \uAC00\uB2A5\uD569\uB2C8\uB2E4.</li><li>RAM: Vite \uB3C4\uC785 \uB4F1\uC73C\uB85C \uBE4C\uB4DC\uC5D0 \uD544\uC694\uD55C RAM \uC591\uC774 \uC904\uC5B4\uB4E6\uC5D0 \uB530\uB77C, 1.5GB \uC218\uC900\uC5D0\uC11C\uB3C4 \uCDA9\uBD84\uD788 \uC791\uB3D9\uD569\uB2C8\uB2E4.</li></ul></li><li>\uB3C4\uBA54\uC778\uC744 \uC9C1\uC811 \uAD6C\uB9E4\uD558\uACE0, CloudFlare\uB97C \uC0AC\uC6A9\uD574 \uC5F0\uACB0\uD569\uB2C8\uB2E4. <ul><li>\uC124\uBA85\uC744 \uB530\uB77C\uC624\uAE30 \uC804\uC5D0 \uB3C4\uBA54\uC778\uC744 \uBBF8\uB9AC \uAD6C\uC785\uD574 \uC8FC\uC2ED\uC2DC\uC624.</li><li>\uC5EC\uAE30\uC120 \uB3C4\uBA54\uC778\uC744 <code>example.tld</code>\uB85C \uC124\uBA85\uD569\uB2C8\uB2E4. \uD504\uB85C\uB355\uC158 \uD658\uACBD\uC77C \uACBD\uC6B0 \uC790\uC2E0\uC774 \uAD6C\uC785\uD55C \uB3C4\uBA54\uC778, \uAC1C\uBC1C \uD658\uACBD\uC758 \uACBD\uC6B0 <code>localhost</code>\uB85C \uC801\uC808\uD788 \uB300\uCCB4\uD574 \uC77D\uC5B4 \uC8FC\uC138\uC694.</li></ul></li></ul><div class="custom-container danger"><i class="fas fa-times"></i><p>\uC77C\uB2E8 \uC0AC\uC6A9\uD558\uAE30 \uC2DC\uC791\uD55C \uC11C\uBC84\uC758 \uB3C4\uBA54\uC778 \uBC0F \uD638\uC2A4\uD2B8 \uC774\uB984\uC740 \uC808\uB300\uB85C \uBCC0\uACBD\uD558\uC9C0 \uB9C8\uC2ED\uC2DC\uC624!</p></div><h2 id="nano-\u1109\u1161\u110B\u116D\u11BC\u1107\u1165\u11B8" tabindex="-1"><a class="header-anchor" href="#nano-\u1109\u1161\u110B\u116D\u11BC\u1107\u1165\u11B8" aria-hidden="true">#</a> nano \uC0AC\uC6A9\uBC95</h2><p>\uD14D\uC2A4\uD2B8 \uD3B8\uC9D1\uAE30\uB85C\uB294 nano\uB97C \uC0AC\uC6A9\uD569\uB2C8\uB2E4. nano \uC2E4\uD589\uC740 \uB2E4\uC74C\uACFC \uAC19\uC774 \uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">nano</span> /path/to/file
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\uCEE4\uC11C\uB294 \uD654\uC0B4\uD45C \uBC84\uD2BC\uC774\uB098 Home/End \uB4F1\uC73C\uB85C \uC774\uB3D9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><p>nano \uD3B8\uC9D1\uAE30\uB294 Ctrl+X\uB85C \uC885\uB8CC\uD558\uBA70, \uBCC0\uACBD \uC0AC\uD56D\uC744 \uC800\uC7A5\uD560\uC9C0 \uBB3C\uC5B4\uC624\uBA74 Y\uB97C \uC785\uB825\uD558\uACE0 Enter\uB97C \uB20C\uB7EC \uC800\uC7A5\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><p>\uD558\uB2E8\uC5D0 \uBA85\uB839\uC5B4 \uC608\uC2DC\uAC00 \uD45C\uC2DC\uB418\uB2C8, ^\uB97C Crtl, M-\uB97C Alt\uB85C \uBC14\uAFD4 \uCC38\uACE0\uD558\uBA74 \uB429\uB2C8\uB2E4.</p><h2 id="\u1109\u1161\u110B\u116D\u11BC\u110C\u1161-\u1109\u1162\u11BC\u1109\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u1109\u1161\u110B\u116D\u11BC\u110C\u1161-\u1109\u1162\u11BC\u1109\u1165\u11BC" aria-hidden="true">#</a> \uC0AC\uC6A9\uC790 \uC0DD\uC131</h2><p>Misskey\uB294 root\uB85C \uC2E4\uD589\uD558\uC9C0 \uC54A\uB294 \uAC83\uC774 \uC88B\uC73C\uB2C8, \uC804\uC6A9 \uC0AC\uC6A9\uC790\uB97C \uC0DD\uC131\uD574 \uC90D\uC2DC\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> adduser --disabled-password --disabled-login misskey
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><i class="fas fa-info"></i><p>\uAC1C\uBC1C \uD658\uACBD\uC774\uB77C\uBA74 \uC124\uC815\uD560 \uD544\uC694\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.</p></div><h2 id="\u1100\u1175\u1107\u1169\u11AB-\u1109\u1169\u1111\u1173\u1110\u1173\u110B\u1170\u110B\u1165-\u1109\u1165\u11AF\u110E\u1175-\u1106\u1175\u11BE-\u1109\u1165\u11AF\u110C\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u1100\u1175\u1107\u1169\u11AB-\u1109\u1169\u1111\u1173\u1110\u1173\u110B\u1170\u110B\u1165-\u1109\u1165\u11AF\u110E\u1175-\u1106\u1175\u11BE-\u1109\u1165\u11AF\u110C\u1165\u11BC" aria-hidden="true">#</a> \uAE30\uBCF8 \uC18C\uD504\uD2B8\uC6E8\uC5B4 \uC124\uCE58 \uBC0F \uC124\uC815</h2><p>\uAE30\uBCF8\uC801\uC778 \uC18C\uD504\uD2B8\uC6E8\uC5B4\uB97C \uC124\uCE58\uD569\uB2C8\uB2E4.</p><h3 id="node-js" tabindex="-1"><a class="header-anchor" href="#node-js" aria-hidden="true">#</a> Node.js</h3><p>Node.js\uB294 \uC11C\uBC84 \uCE21 \uC790\uBC14\uC2A4\uD06C\uB9BD\uD2B8 \uD658\uACBD\uC73C\uB85C \uBBF8\uC2A4\uD0A4\uC758 \uAE30\uBCF8 \uC2E4\uD589 \uD658\uACBD\uC785\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y <span class="token function">curl</span>

<span class="token function">curl</span> -sL https://deb.nodesource.com/setup_20.x <span class="token operator">|</span> <span class="token function">sudo</span> -E <span class="token function">bash</span> -

<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y nodejs

<span class="token comment"># Node.js\uAC00 \uC124\uCE58\uB418\uC5C8\uC73C\uBBC0\uB85C \uBC84\uC804\uC744 \uD655\uC778\uD569\uB2C8\uB2E4.</span>
<span class="token function">node</span> -v

<span class="token comment"># corepack enable</span>
<span class="token function">sudo</span> corepack <span class="token builtin class-name">enable</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>v20.x.x \uB4F1\uC73C\uB85C \uD45C\uC2DC\uB418\uBA74 OK.<br> v8.x.x\uC640 \uAC19\uC774 \uB0AE\uC740 \uBC84\uC804\uC774 \uD45C\uC2DC\uB418\uBA74 \uC81C\uB300\uB85C \uC124\uCE58\uB418\uC9C0 \uC54A\uC740 \uAC83\uC774\uBBC0\uB85C \uC2DC\uC2A4\uD15C\uC744 \uC7AC\uBD80\uD305\uD558\uACE0 \uB2E4\uC2DC \uC124\uCE58\uD558\uB294 \uB4F1\uC758 \uC870\uCE58\uB97C \uCDE8\uD574 \uBD05\uC2DC\uB2E4.</p><h3 id="postgresql" tabindex="-1"><a class="header-anchor" href="#postgresql" aria-hidden="true">#</a> PostgreSQL</h3><p>PostgreSQL\uC740 \uAC1D\uCCB4 \uAD00\uACC4\uD615 \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uAD00\uB9AC \uC2DC\uC2A4\uD15C\uC785\uB2C8\uB2E4. \uBBF8\uC2A4\uD0A4\uC758 \uAC01\uC885 \uB370\uC774\uD130\uB97C \uC800\uC7A5\uD558\uB294 \uB370 \uD544\uC218\uC801\uC778 \uC18C\uD504\uD2B8\uC6E8\uC5B4\uC785\uB2C8\uB2E4.</p><h4 id="\u1109\u1165\u11AF\u110E\u1175" tabindex="-1"><a class="header-anchor" href="#\u1109\u1165\u11AF\u110E\u1175" aria-hidden="true">#</a> \uC124\uCE58</h4><p>\uC258 \uC2A4\uD06C\uB9BD\uD2B8\uB97C \uC2E4\uD589\uD558\uC5EC \uCD5C\uC2E0 \uBC84\uC804(v15)\uC744 \uC124\uCE58\uD574 \uBD05\uC2DC\uB2E4.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo apt install -y postgresql-common

sudo sh /usr/share/postgresql-common/pgdg/apt.postgresql.org.sh -i -v 15

# systemctl\uB85C \uB370\uBAAC\uC758 \uC0C1\uD0DC\uB97C \uD655\uC778\uD55C\uB2E4.
systemctl status postgresql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>systemctl\uC758 \uACB0\uACFC\uAC00 active\uC774\uBA74 OK.</p><h4 id="\u1109\u1161\u110B\u116D\u11BC\u110C\u1161-\u1106\u1175\u11BE-\u1103\u1166\u110B\u1175\u1110\u1165\u1107\u1166\u110B\u1175\u1109\u1173-\u1109\u1162\u11BC\u1109\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u1109\u1161\u110B\u116D\u11BC\u110C\u1161-\u1106\u1175\u11BE-\u1103\u1166\u110B\u1175\u1110\u1165\u1107\u1166\u110B\u1175\u1109\u1173-\u1109\u1162\u11BC\u1109\u1165\u11BC" aria-hidden="true">#</a> \uC0AC\uC6A9\uC790 \uBC0F \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC0DD\uC131</h4><div class="custom-container danger"><i class="fas fa-times"></i><p>\uAC1C\uBC1C \uD658\uACBD\uC774 \uC544\uB2C8\uB77C\uBA74, SQL \uC778\uC81D\uC158\uC5D0 \uB300\uBE44\uD574 SQL \uC0AC\uC6A9\uC790, \uBE44\uBC00\uBC88\uD638, DB \uBA85\uCE6D \uB4F1\uC744 \uB2E4\uB974\uAC8C \uC124\uC815\uD558\uB294 \uAC83\uC774 \uC88B\uC2B5\uB2C8\uB2E4.</p></div><p>psql\uC744 \uC2E4\uD589\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> -u postgres psql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Misskey\uC5D0\uC11C \uC0AC\uC6A9\uD560 \uC0AC\uC6A9\uC790\uB97C \uC0DD\uC131\uD569\uB2C8\uB2E4.<br> \uC0AC\uC6A9\uC790 \uC774\uB984\uC744 misskey, \uBE44\uBC00\uBC88\uD638\uB97C hoge\uB85C \uC124\uC815\uD558\uBA74 \uB2E4\uC74C\uACFC \uAC19\uC2B5\uB2C8\uB2E4.<br> (\uB9AC\uB205\uC2A4 \uC0AC\uC6A9\uC790\uC640 PostgreSQL\uC758 \uC0AC\uC6A9\uC790\uB294 \uBCC4\uAC1C\uC774\uBBC0\uB85C \uD63C\uB3D9\uD558\uC9C0 \uC54A\uB3C4\uB85D \uC8FC\uC758)</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> ROLE misskey LOGIN CREATEDB PASSWORD <span class="token string">&#39;hoge&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\uC774\uC5B4 \uB370\uC774\uD130\uBCA0\uC774\uC2A4\uB97C \uC0DD\uC131\uD569\uB2C8\uB2E4. \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC774\uB984\uC744 mk1\uC73C\uB85C \uC124\uC815\uD569\uB2C8\uB2E4.</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> mk1 OWNER misskey<span class="token punctuation">;</span>
\\q
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="redis" tabindex="-1"><a class="header-anchor" href="#redis" aria-hidden="true">#</a> Redis</h3><p>Redis\uB294 NoSQL\uC758 \uC778\uBA54\uBAA8\uB9AC \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC18C\uD504\uD2B8\uC6E8\uC5B4\uB85C, \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uBC0F \uC5F0\uD569\uACFC\uC758 \uD1B5\uC2E0 \uAD00\uB9AC \uB4F1\uC5D0 \uD544\uC694\uD569\uB2C8\uB2E4.<br> redis.io\uC758 \uBB38\uC11C\uC5D0 \uB530\uB77C \uC124\uCE58\uD569\uB2C8\uB2E4. https://redis.io/docs/getting-started/installation/install-redis-on-linux/</p><div class="custom-container tip"><i class="fas fa-info"></i><p>\uC774 \uBD80\uBD84\uC758 shell\uC740 Ubuntu\uB97C \uAE30\uC900\uC73C\uB85C \uC124\uBA85\uD569\uB2C8\uB2E4. \uB2E4\uB978 Linux \uD658\uACBD\uC5D0\uC11C \uAD6C\uC131\uD558\uB294 \uACBD\uC6B0 redis.io\uC5D0\uC11C \uD655\uC778\uD574 \uC9C1\uC811 \uC124\uC815\uD574\uC57C \uD569\uB2C8\uB2E4.</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y <span class="token function">curl</span> ca-certificates gnupg2 lsb-release
		
<span class="token function">curl</span> -fsSL https://packages.redis.io/gpg <span class="token operator">|</span> <span class="token function">sudo</span> gpg --dearmor -o /usr/share/keyrings/redis-archive-keyring.gpg

<span class="token builtin class-name">echo</span> <span class="token string">&quot;deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> main&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/ apt/sources.list.d/redis.list

<span class="token function">sudo</span> <span class="token function">apt</span> update

<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>systemctl\uB85C \uB370\uBAAC\uC758 \uC0C1\uD0DC\uB97C \uD655\uC778\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl status redis-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>active\uC774\uBA74 OK.</p><h3 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx" aria-hidden="true">#</a> nginx</h3><p>nginx\uB294 \uC8FC\uB85C \uB9AC\uBC84\uC2A4 \uD504\uB85D\uC2DC\uC5D0 \uC0AC\uC6A9\uB418\uB294 \uC6F9 \uC11C\uBC84 \uC18C\uD504\uD2B8\uC6E8\uC5B4\uB85C, Misskey\uC5D0\uB294 \uD544\uC218\uC801\uC778 \uAC83\uC740 \uC544\uB2D9\uB2C8\uB2E4.<br> \uB2E4\uB9CC \uCE90\uC2DC \uB4F1\uC744 \uD65C\uC6A9\uD558\uB294 \uACBD\uC6B0 nginx\uB97C \uC0AC\uC6A9\uD558\uBA74 \uC131\uB2A5\uC774 \uD5A5\uC0C1\uB418\uACE0 http\uC5D0\uC11C https\uB85C \uC804\uC1A1\uD558\uB294 \uB4F1\uC758 \uC791\uC5C5\uC744 \uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="custom-container tip"><i class="fas fa-info"></i><p>\uAC1C\uBC1C \uD658\uACBD\uC758 \uACBD\uC6B0 nginx \uC124\uC815\uC774 \uD544\uC694\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.</p></div><p>nginx.org\uC758 \uBB38\uC11C http://nginx.org/en/linux_packages.html#Ubuntu \uC5D0 \uB530\uB77C \uC124\uCE58\uD569\uB2C8\uB2E4.</p><div class="custom-container tip"><i class="fas fa-info"></i><p>\uC774 \uBD80\uBD84\uC758 shell\uC740 Ubuntu\uB97C \uAE30\uC900\uC73C\uB85C \uC124\uBA85\uD569\uB2C8\uB2E4. \uB2E4\uB978 Linux \uD658\uACBD\uC5D0\uC11C \uAD6C\uC131\uD558\uB294 \uACBD\uC6B0 nginx.org\uC5D0\uC11C \uD655\uC778\uD574 \uC9C1\uC811 \uC124\uC815\uD574\uC57C \uD569\uB2C8\uB2E4.</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ubuntu-keyring

<span class="token function">curl</span> https://nginx.org/keys/nginx_signing.key <span class="token operator">|</span> gpg --dearmor <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /usr/share/keyrings/nginx-archive-keyring.gpg <span class="token operator">&gt;</span>/dev/null

gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC774\uB54C \uCD9C\uB825\uC5D0 573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62\uAC00 \uC788\uB294\uC9C0 \uD655\uC778\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] http://nginx.org/packages/ubuntu <span class="token variable"><span class="token variable">\`</span>lsb_release -cs<span class="token variable">\`</span></span> nginx&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> / etc/apt/sources.list.d/nginx.list

<span class="token builtin class-name">echo</span> -e <span class="token string">&quot;Package: *<span class="token entity" title="\\n">\\n</span>Pin: origin nginx.org<span class="token entity" title="\\n">\\n</span>Pin: release o=nginx<span class="token entity" title="\\n">\\n</span>Pin-Priority: 900<span class="token entity" title="\\n">\\n</span>&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/preferences.d/99nginx

<span class="token function">sudo</span> <span class="token function">apt</span> update

<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>systemctl\uB85C \uB370\uBAAC \uC0C1\uD0DC\uB97C \uD655\uC778\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl status nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>active\uC774\uBA74 OK, \uADF8\uB807\uC9C0 \uC54A\uC73C\uBA74 \uB2E4\uC74C \uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD574 \uC90D\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start nginx

<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="http://localhost" target="_blank" rel="noopener noreferrer">http://localhost</a> \uC5D0 \uC811\uC18D\uD558\uC5EC *Welcome to nginx!*\uB77C\uACE0 \uD45C\uC2DC\uB418\uBA74 OK. curl\uB85C \uD655\uC778\uD558\uB294 \uAC83\uB3C4 \uAD1C\uCC2E\uC2B5\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> http://localhost
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u1100\u1175\u1110\u1161" tabindex="-1"><a class="header-anchor" href="#\u1100\u1175\u1110\u1161" aria-hidden="true">#</a> \uAE30\uD0C0</h3><p>Git(\uBC84\uC804 \uAD00\uB9AC \uD504\uB85C\uADF8\uB7A8) \uBC0F build-essential(Misskey \uBE4C\uB4DC \uC2DC \uD544\uC694)\uC744 \uC124\uCE58\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update

<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y <span class="token function">git</span> build-essential
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u110E\u116E\u1100\u1161-\u1109\u1165\u11AF\u110C\u1165\u11BC-\u1106\u1175\u11BE-\u1109\u1165\u11AF\u110E\u1175" tabindex="-1"><a class="header-anchor" href="#\u110E\u116E\u1100\u1161-\u1109\u1165\u11AF\u110C\u1165\u11BC-\u1106\u1175\u11BE-\u1109\u1165\u11AF\u110E\u1175" aria-hidden="true">#</a> \uCD94\uAC00 \uC124\uC815 \uBC0F \uC124\uCE58</h2><p>\uC11C\uBC84\uB97C \uC778\uD130\uB137\uC5D0 \uACF5\uAC1C\uD560 \uC900\uBE44\uB97C \uD569\uB2C8\uB2E4.</p><div class="custom-container tip"><i class="fas fa-info"></i><p>\uAC1C\uBC1C \uD658\uACBD\uC758 \uACBD\uC6B0 \uBC29\uD654\uBCBD, CloudFlare, Certbot \uC124\uC815\uC740 \uD544\uC694\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.</p></div><h3 id="\u1107\u1161\u11BC\u1112\u116A\u1107\u1167\u11A8" tabindex="-1"><a class="header-anchor" href="#\u1107\u1161\u11BC\u1112\u116A\u1107\u1167\u11A8" aria-hidden="true">#</a> \uBC29\uD654\uBCBD</h3><p>\uC774\uBC88\uC5D0\uB294 \uBC29\uD654\uBCBD\uC73C\uB85C ufw\uB97C \uC0AC\uC6A9\uD569\uB2C8\uB2E4.</p><p>\uB2E4\uC74C\uC5D0\uC11C\uB294 \uC811\uC18D \uD5C8\uC6A9\uC744 \uD654\uC774\uD2B8\uB9AC\uC2A4\uD2B8 \uD615\uD0DC\uB85C \uC124\uC815\uD558\uACE0, 22\uBC88 SSH \uD3EC\uD2B8\uB97C \uC811\uC18D \uD69F\uC218 \uC81C\uD55C\uC744 \uB450\uC5B4 \uAC1C\uBC29, 80\uBC88 HTTP \uD3EC\uD2B8 \uBC0F 443\uBC88 HTTPS \uD3EC\uD2B8\uB97C \uAC1C\uBC29\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> ufw <span class="token builtin class-name">enable</span>

<span class="token function">sudo</span> ufw default deny

<span class="token function">sudo</span> ufw limit <span class="token number">22</span>

<span class="token function">sudo</span> ufw allow <span class="token number">80</span>

<span class="token function">sudo</span> ufw allow <span class="token number">443</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ufw\uC758 \uC0C1\uD0DC\uB97C \uD655\uC778\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> ufw status
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\uC774\uC5B4 systemctl\uB85C \uC601\uAD6C\uD654\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> ufw
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><i class="fas fa-info"></i><p>ufw\uB294 netfilter(iptables)\uB97C \uC0AC\uB78C\uC774 \uC27D\uAC8C \uC870\uC791\uD560 \uC218 \uC788\uB3C4\uB85D \uD558\uB294 \uC571\uC785\uB2C8\uB2E4.</p><p>\uC124\uCE58 \uC2A4\uD06C\uB9BD\uD2B8\uB294 OCI \uD658\uACBD\uC5D0\uC11C\uB294 netfilter\uB97C \uC9C1\uC811 \uC870\uC791\uD569\uB2C8\uB2E4. \uC989, ufw\uB97C \uC124\uCE58\uD558\uC9C0 \uC54A\uACE0 \uC124\uCE58\uAC00 \uC9C4\uD589\uB429\uB2C8\uB2E4.</p></div><h3 id="cloudflare" tabindex="-1"><a class="header-anchor" href="#cloudflare" aria-hidden="true">#</a> CloudFlare</h3>`,73),O=n("CloudFlare\uB294 \uC790\uC2E0\uC758 \uB3C4\uBA54\uC778\uC5D0 \uB300\uD574 DNS \uC11C\uBC84, \uB9AC\uBC84\uC2A4 \uD504\uB85D\uC2DC, CDN\uC744 \uD55C \uBC88\uC5D0 \uC81C\uACF5\uD574 \uC8FC\uB294 \uB9E4\uC6B0 \uD3B8\uB9AC\uD55C \uC11C\uBE44\uC2A4\uC785\uB2C8\uB2E4."),B=s("br",null,null,-1),L=n(" CloudFlare\uB97C \uAC70\uCE58\uC9C0 \uC54A\uACE0 \uC11C\uBC84\uB97C \uACF5\uAC1C\uD558\uB294 \uAC83\uB3C4 \uAC00\uB2A5\uD558\uC9C0\uB9CC, \uC801\uC6A9\uD558\uB294 \uAC83\uC774 \uB9E4\uC6B0 \uD3B8\uB9AC\uD558\uBBC0\uB85C \uB3C4\uC785\uD558\uB294 \uAC83\uC744 \uCD94\uCC9C\uD569\uB2C8\uB2E4. "),A=s("strong",null,"\u2192 CDN \uC124\uC815",-1),P=l(`<p><a href="https://dash.cloudflare.com/sign-up" target="_blank" rel="noopener noreferrer">CloudFlare\uC5D0 \uAC00\uC785</a>\uD558\uACE0 \uAD6C\uB9E4\uD55C \uB3C4\uBA54\uC778\uC744 \uC548\uB0B4\uC5D0 \uB530\uB77C \uB4F1\uB85D\uD569\uB2C8\uB2E4.</p><p>DNS \uB4F1\uB85D \uD654\uBA74\uC5D0\uC11C \uC11C\uBC84\uC758 IP \uC8FC\uC18C\uB97C \uC785\uB825\uD558\uBA74 \uB429\uB2C8\uB2E4.<br> \uB3C4\uBA54\uC778 \uAD6C\uB9E4\uCC98\uC5D0 \uB530\uB77C \uCD5C\uCD08 \uB4F1\uB85D\uC774 \uC801\uC6A9\uB418\uB294 \uB370\uC5D0 \uCD5C\uB300 3\uC77C \uC815\uB3C4 \uC18C\uC694\uB420 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><h3 id="certbot-let-s-encrypt-\u1109\u1165\u11AF\u110C\u1165\u11BC\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#certbot-let-s-encrypt-\u1109\u1165\u11AF\u110C\u1165\u11BC\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> Certbot (Let&#39;s Encrypt) \uC124\uC815\uD558\uAE30</h3><p>HTTPS WSS \uD1B5\uC2E0\uC5D0 \uC0AC\uC6A9\uD560 \uC778\uC99D\uC11C\uB97C CloudFlare\uB97C \uC0AC\uC6A9\uD558\uB294 \uBC29\uC2DD\uC73C\uB85C Let&#39;s Encrypt\uC5D0\uC11C \uBC1C\uAE09\uBC1B\uC2B5\uB2C8\uB2E4.</p><p>\uC6B0\uC120, certbot\uACFC CloudFlare \uD50C\uB7EC\uADF8\uC778\uC744 \uC124\uCE58\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y certbot python3-certbot-dns-cloudflare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\uC774\uC5B4 Cloudflare\uC758 API \uD0A4\uB97C \uAC00\uC838\uC635\uB2C8\uB2E4.</p><ol><li><a href="https://dash.cloudflare.com/profile/api-tokens" target="_blank" rel="noopener noreferrer">https://dash.cloudflare.com/profile/api-tokens</a>\uC5D0 \uC811\uC18D\uD569\uB2C8\uB2E4.</li><li>Global API Key\uC758 View\uB97C \uC120\uD0DD\uD569\uB2C8\uB2E4.</li><li>\uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD558\uACE0 hCaptcha\uB97C \uD574\uC81C\uD558\uACE0 View\uB97C \uC120\uD0DD\uD569\uB2C8\uB2E4.</li></ol><p>\uC774\uC81C CloudFlare\uC758 \uC815\uBCF4\uB97C \uB2F4\uC740 \uC124\uC815 \uD30C\uC77C /etc/cloudflare/cloudflare.ini\uB97C \uC0DD\uC131\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> /etc/cloudflare
<span class="token function">nano</span> /etc/cloudflare/cloudflare.ini
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>dns_cloudflare_email(\uC544\uB798\uC758 <code>bar@fuga.foo</code>)\uC5D0 CloudFlare\uC5D0 \uB4F1\uB85D\uD55C \uC774\uBA54\uC77C \uC8FC\uC18C\uB97C \uC785\uB825\uD574 \uC8FC\uC138\uC694.</p><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token key attr-name">dns_cloudflare_email</span> <span class="token punctuation">=</span> <span class="token value attr-value">bar@fuga.foo</span>
<span class="token key attr-name">dns_cloudflare_api_key</span> <span class="token punctuation">=</span> <span class="token value attr-value">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC774\uB97C \uC800\uC7A5\uD558\uACE0 \uAD8C\uD55C\uC744 600\uC73C\uB85C \uC124\uC815\uD574 \uC90D\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">600</span> /etc/cloudflare/cloudflare/cloudflare.ini
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\uC900\uBE44\uAC00 \uB418\uC5C8\uC73C\uB2C8 \uBA85\uB839\uC744 \uC2E4\uD589\uD569\uB2C8\uB2E4. <strong>\uC911\uAC04\uC5D0 \uC788\uB294 \uB450 <code>example.tld</code>\uB294 \uC790\uC2E0\uC758 \uAC83\uC73C\uB85C \uB300\uCCB4</strong>\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> certbot certonly --dns-cloudflare --dns-cloudflare-credentials /etc/cloudflare/cloudflare/cloudflare.ini --dns-cloudflare-propagation-seconds <span class="token number">60</span> --server https://acme-v02.api.letsencrypt.org/directory -d example.tld -d *.example.tld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>*Congratulations!*\uB77C\uACE0 \uD45C\uC2DC\uB418\uBA74 OK. \uC0DD\uC131\uB41C .pem \uD30C\uC77C\uC758 \uACBD\uB85C\uB294 \uB098\uC911\uC5D0 \uC0AC\uC6A9\uD560 \uAC83\uC774\uBBC0\uB85C \uAE30\uB85D\uD574 \uB461\uC2DC\uB2E4.</p><p>\uC790\uB3D9 \uC5C5\uB370\uC774\uD2B8 \uC124\uC815\uC740 \uC124\uCE58\uC640 \uB3D9\uC2DC\uC5D0 \uC774\uB8E8\uC5B4\uC9C0\uBBC0\uB85C \uBD88\uD544\uC694\uD569\uB2C8\uB2E4.</p><h2 id="misskey-\u1109\u1165\u11AF\u110E\u1175" tabindex="-1"><a class="header-anchor" href="#misskey-\u1109\u1165\u11AF\u110E\u1175" aria-hidden="true">#</a> Misskey \uC124\uCE58</h2><p>\uC774\uAC83\uC73C\uB85C \uC0AC\uC804 \uC900\uBE44\uAC00 \uC5B4\uB290 \uC815\uB3C4 \uB05D\uB0AC\uC73C\uB2C8 Misskey\uB97C \uC900\uBE44\uD569\uC2DC\uB2E4.</p><p>\uC6B0\uC120 misskey \uC0AC\uC6A9\uC790\uB85C \uBCC0\uACBD\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">su</span> - misskey
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Git\uC73C\uB85C \uD30C\uC77C\uB4E4\uC744 \uAC00\uC838\uC635\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone -b master https://github.com/misskey-dev/misskey.git --recurse-submodules

<span class="token builtin class-name">cd</span> misskey

<span class="token function">git</span> checkout master
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uD544\uC694\uD55C npm \uD328\uD0A4\uC9C0\uB97C \uC124\uCE58\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>production <span class="token function">pnpm</span> <span class="token function">install</span> --frozen-lockfile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><i class="fas fa-info"></i><p>\uAC1C\uBC1C \uD658\uACBD\uC774\uBA74 <code>NODE_ENV=production</code>\uC744 \uBD99\uC77C \uD544\uC694\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.</p></div><h2 id="misskey-\u1109\u1165\u11AF\u110C\u1165\u11BC\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#misskey-\u1109\u1165\u11AF\u110C\u1165\u11BC\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> Misskey \uC124\uC815\uD558\uAE30</h2><h3 id="default-yml" tabindex="-1"><a class="header-anchor" href="#default-yml" aria-hidden="true">#</a> default.yml</h3><p>\uC124\uC815 \uD30C\uC77C .config/default.yml\uC744 \uC0DD\uC131\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">nano</span> .config/default.yml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\uB2E4\uC74C \uB0B4\uC6A9\uC744 \uBD99\uC5EC\uB123\uACE0 \uC801\uC808\uD788 \uACE0\uCCD0 \uC8FC\uC138\uC694. \uC124\uC815\uAC12\uC758 \uBCC0\uACBD\uC774 \uD544\uC694\uD55C \uBD80\uBD84\uC740 \u25CF\uB85C, \uC9C0\uAE08\uAE4C\uC9C0\uC758 \uD750\uB984\uC5D0\uC11C \uC124\uC815\uD55C \uAC12\uC744 \uC0AC\uC6A9\uD558\uB294 \uBD80\uBD84\uC740 \u3007\uB85C \uD45C\uC2DC\uD569\uB2C8\uB2E4.</p><p>\uC774 \uC124\uC815 \uD30C\uC77C\uC740 YAML \uD615\uC2DD\uC73C\uB85C \uC791\uC131\uB418\uC5B4 \uC788\uC5B4 \uC904\uC758 \uC2DC\uC791 \uBD80\uBD84\uC758 \uB744\uC5B4\uC4F0\uAE30 \uB4F1\uC744 \uC798\uBABB\uD558\uBA74 Misskey\uAC00 \uB3D9\uC791\uD558\uC9C0 \uC54A\uC73C\uBBC0\uB85C \uD2B9\uD788 \uC8FC\uC758\uD574\uC57C \uD569\uB2C8\uB2E4.</p><p>\uC124\uC815\uD560 \uC218 \uC788\uB294 \uAC12\uACFC \uC791\uC131 \uBC29\uBC95\uC740 <a href="https://github.com/syuilo/misskey/blob/develop/.config/example.yml" target="_blank" rel="noopener noreferrer">.config/example.yml</a>\uC5D0 \uB098\uC640 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="custom-container tip"><i class="fas fa-info"></i><p>\uAC1C\uBC1C \uD658\uACBD\uC758 \uACBD\uC6B0 url\uC740 <code>url: http://localhost:3000</code>\uB85C \uC9C0\uC815\uD558\uC138\uC694.</p></div><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># \u25CF Misskey\uB97C \uACF5\uAC1C\uD560 URL</span>
<span class="token key atrule">url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//example.tld/
<span class="token comment"># \uD3EC\uD2B8\uB97C 3000\uC73C\uB85C \uC124\uC815.</span>
<span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">3000</span>

<span class="token comment"># \u25CF PostgreSQL \uC124\uC815. DB\uC758 \uC774\uB984, \uC0AC\uC6A9\uC790, \uBE44\uBC00\uBC88\uD638\uB97C \uB2E4\uB974\uAC8C \uC124\uC815\uD588\uB2E4\uBA74 \uADF8\uAC78 \uC785\uB825\uD574 \uC8FC\uC138\uC694.</span>
<span class="token key atrule">db</span><span class="token punctuation">:</span>
  <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5432</span>
  <span class="token key atrule">db</span> <span class="token punctuation">:</span> mk1 <span class="token comment"># \u3007 PostgreSQL\uC758 \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC774\uB984</span>
  <span class="token key atrule">user</span><span class="token punctuation">:</span> misskey <span class="token comment"># \u3007 PostgreSQL\uC758 \uC0AC\uC6A9\uC790 \uC774\uB984</span>
  <span class="token key atrule">pass</span><span class="token punctuation">:</span> hoge <span class="token comment"># \u3007 PostgreSQL\uC758 \uBE44\uBC00\uBC88\uD638</span>

<span class="token comment"># Redis \uC124\uC815.</span>
<span class="token key atrule">redis</span><span class="token punctuation">:</span>
  <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>

<span class="token comment"># ID \uD0C0\uC785 \uC124\uC815.</span>
<span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token string">&#39;aid&#39;</span>

<span class="token comment"># syslog</span>
<span class="token key atrule">syslog</span><span class="token punctuation">:</span>
  <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">514</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC644\uB8CC\uB418\uC5C8\uB2E4\uBA74 \uC800\uC7A5\uD574 \uC8FC\uC138\uC694.</p><h3 id="nginx-\u1109\u1165\u11AF\u110C\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#nginx-\u1109\u1165\u11AF\u110C\u1165\u11BC" aria-hidden="true">#</a> nginx \uC124\uC815</h3><p>nginx \uC124\uC815\uC740 \uB8E8\uD2B8 \uAD8C\uD55C\uC73C\uB85C \uC9C4\uD589\uD569\uB2C8\uB2E4. \uC774\uB97C \uC704\uD574 misskey \uC0AC\uC6A9\uC790\uC5D0\uC11C \uBE60\uC838\uB098\uC635\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>/etc/nginx/conf.d/misskey.conf</code>\uB97C \uC0DD\uC131\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /etc/nginx/conf.d/misskey.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><a href="https://misskey-hub.net/docs/admin/nginx.html" target="_blank" rel="noopener noreferrer">Misskey Hub</a>\uC758 \uC124\uC815 \uC608\uC2DC\uB97C nano\uC5D0 \uBCF5\uC0AC\uD558\uC5EC \uBD99\uC5EC\uB123\uACE0 \uB2E4\uC74C \uBD80\uBD84\uC744 \uC790\uC2E0\uC758 \uAC83\uC73C\uB85C \uBC14\uAFBC\uB2E4.</p><ul><li>18\uD589\uACFC 30\uD589\uC758 \uB3C4\uBA54\uC778 \uC774\uB984</li><li>34~35\uD589\uC758 \uC778\uC99D\uC11C \uACBD\uB85C\uB97C Certbot\uC73C\uB85C \uCDE8\uB4DD\uD55C \uC778\uC99D\uC11C \uACBD\uB85C\uB85C (\uAE30\uBCF8\uC801\uC73C\uB85C <code>example.tld</code>\uB97C \uB300\uCCB4\uD558\uBA74 \uB429\uB2C8\uB2E4)</li><li>56\uBC88\uC9F8 \uC904 (<code>If it&#39;s behind another reverse proxy or CDN, remove the following.</code>) \uC5D0\uC11C 4\uC904\uC744 \uC0AD\uC81C</li></ul><p>\uBCC0\uACBD \uC0AC\uD56D\uC744 \uC800\uC7A5\uD558\uACE0 \uC124\uC815\uC774 \uC81C\uB300\uB85C \uC791\uB3D9\uD558\uB294\uC9C0 \uD655\uC778\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> nginx -t
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>OK\uB77C\uBA74 nginx \uB370\uBAAC\uC744 \uC7AC\uC2DC\uC791\uD574 \uC90D\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart nginx

<span class="token function">sudo</span> systemctl status nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>systemctl status</code>\uC5D0\uC11C active\uC774\uBA74 OK.</p><h2 id="misskey-\u1107\u1175\u11AF\u1103\u1173" tabindex="-1"><a class="header-anchor" href="#misskey-\u1107\u1175\u11AF\u1103\u1173" aria-hidden="true">#</a> Misskey \uBE4C\uB4DC</h2><p>misskey \uC0AC\uC6A9\uC790\uB85C \uB2E4\uC2DC \uB85C\uADF8\uC778\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">su</span> - misskey
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\uC774\uC81C Misskey\uB97C \uBE4C\uB4DC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> misskey
<span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>production <span class="token function">pnpm</span> run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><i class="fas fa-info"></i><p>\uAC1C\uBC1C \uD658\uACBD\uC758 \uACBD\uC6B0 <code>NODE_ENV=production</code>\uC740 \uD544\uC694\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uC774\uD6C4 \uBA85\uB839\uC5B4\uC5D0\uC11C\uB3C4 \uB9C8\uCC2C\uAC00\uC9C0\uB85C \uC0AD\uC81C\uD574 \uC8FC\uC138\uC694.</p></div><h3 id="\u1109\u1165\u1107\u1165\u110B\u1166\u1109\u1165-\u1107\u1175\u11AF\u1103\u1173\u1112\u1161\u11AF-\u1109\u116E-\u110B\u1165\u11B9\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" tabindex="-1"><a class="header-anchor" href="#\u1109\u1165\u1107\u1165\u110B\u1166\u1109\u1165-\u1107\u1175\u11AF\u1103\u1173\u1112\u1161\u11AF-\u1109\u116E-\u110B\u1165\u11B9\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" aria-hidden="true">#</a> \uC11C\uBC84\uC5D0\uC11C \uBE4C\uB4DC\uD560 \uC218 \uC5C6\uB294 \uACBD\uC6B0</h3><p>RAM\uC774 \uBD80\uC871\uD574\uC11C\uC77C \uAC00\uB2A5\uC131\uC774 \uD07D\uB2C8\uB2E4.</p><p>Misskey \uBE4C\uB4DC \uBC0F DB \uC774\uC804/\uCD08\uAE30\uD654 \uACFC\uC815\uC5D0\uB294 Misskey 12\uAE4C\uC9C0\uB294 2GB, Misskey 13\uBD80\uD130\uB294 1.5GB \uC774\uC0C1\uC758 \uB0A8\uC740 RAM \uACF5\uAC04\uC774 \uD544\uC694\uD569\uB2C8\uB2E4.<br> RAM\uC774 \uC774\uBCF4\uB2E4 \uBD80\uC871\uD558\uB2E4\uBA74, \uB2E4\uC74C\uACFC \uAC19\uC740 \uACFC\uC815\uC744 \uC0DD\uAC01\uD574\uBCFC \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><ul><li>\uC11C\uBC84\uC5D0 swap\uC744 \uCD94\uAC00</li><li>\uB85C\uCEEC\uC5D0\uC11C \uBE4C\uB4DC\uD55C \uAC83(<code>built</code> \uB514\uB809\uD1A0\uB9AC)\uC744 sftp\uB85C \uC804\uC1A1</li></ul><h2 id="\u1103\u1166\u110B\u1175\u1110\u1165\u1107\u1166\u110B\u1175\u1109\u1173-\u110E\u1169\u1100\u1175\u1112\u116A" tabindex="-1"><a class="header-anchor" href="#\u1103\u1166\u110B\u1175\u1110\u1165\u1107\u1166\u110B\u1175\u1109\u1173-\u110E\u1169\u1100\u1175\u1112\u116A" aria-hidden="true">#</a> \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uCD08\uAE30\uD654</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">pnpm</span> run init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="misskey-\u1109\u1175\u11AF\u1112\u1162\u11BC\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#misskey-\u1109\u1175\u11AF\u1112\u1162\u11BC\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> Misskey \uC2E4\uD589\uD558\uAE30</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>production <span class="token function">pnpm</span> run start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Now listening on port 3000 on</strong> __<strong>http://example.tld</strong>__\uC774\uB77C\uACE0 \uD45C\uC2DC\uB418\uBA74 \uC124\uC815\uD55C URL\uB85C \uC811\uC18D\uD569\uB2C8\uB2E4.<br> Misskey\uC758 Welcome \uD398\uC774\uC9C0\uAC00 \uD45C\uC2DC\uB420 \uAC83\uC785\uB2C8\uB2E4.</p><p>\uACC4\uC815 \uC0DD\uC131, \uB178\uD2B8 \uC791\uC131, \uD30C\uC77C \uC5C5\uB85C\uB4DC \uB4F1 \uC77C\uB828\uC758 \uC791\uC5C5\uC774 \uC815\uC0C1\uC801\uC73C\uB85C \uC9C4\uD589\uB418\uB294\uC9C0 \uD655\uC778\uD574 \uC90D\uC2DC\uB2E4.</p><h3 id="\u110C\u1165\u11B8\u1109\u1169\u11A8\u110B\u1175-\u110B\u1161\u11AB-\u1103\u116C\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" tabindex="-1"><a class="header-anchor" href="#\u110C\u1165\u11B8\u1109\u1169\u11A8\u110B\u1175-\u110B\u1161\u11AB-\u1103\u116C\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" aria-hidden="true">#</a> \uC811\uC18D\uC774 \uC548 \uB418\uB294 \uACBD\uC6B0</h3><h4 id="cloudflare\u110B\u1174-dns\u1105\u1173\u11AF-\u1112\u116A\u11A8\u110B\u1175\u11AB\u1112\u1161\u11AB\u1103\u1161" tabindex="-1"><a class="header-anchor" href="#cloudflare\u110B\u1174-dns\u1105\u1173\u11AF-\u1112\u116A\u11A8\u110B\u1175\u11AB\u1112\u1161\u11AB\u1103\u1161" aria-hidden="true">#</a> CloudFlare\uC758 DNS\uB97C \uD655\uC778\uD55C\uB2E4.</h4><p>CloudFlare\uC758 DNS \uC124\uC815\uC774 \uC62C\uBC14\uB978 IP \uC8FC\uC18C\uB85C \uC124\uC815\uB418\uC5B4 \uC788\uB294\uC9C0 \uB2E4\uC2DC \uD55C \uBC88 \uD655\uC778\uD574 \uC8FC\uC138\uC694.</p><h4 id="\u1105\u1161\u110B\u116E\u1110\u1165-\u1109\u1165\u11AF\u110C\u1165\u11BC-\u1112\u116A\u11A8\u110B\u1175\u11AB" tabindex="-1"><a class="header-anchor" href="#\u1105\u1161\u110B\u116E\u1110\u1165-\u1109\u1165\u11AF\u110C\u1165\u11BC-\u1112\u116A\u11A8\u110B\u1175\u11AB" aria-hidden="true">#</a> \uB77C\uC6B0\uD130 \uC124\uC815 \uD655\uC778</h4><p>\uD648 \uC11C\uBC84\uC758 \uACBD\uC6B0, \uB77C\uC6B0\uD130\uAC00 \uC11C\uBC84\uC640 \uC678\uBD80\uC758 80, 443 \uD3EC\uD2B8\uC758 \uD1B5\uC2E0\uC744 \uD5C8\uC6A9\uD558\uB3C4\uB85D \uC124\uC815\uB418\uC5B4 \uC788\uB294\uC9C0 \uD655\uC778\uD574 \uC8FC\uC138\uC694.<br> \uD074\uB77C\uC6B0\uB4DC\uC758 \uACBD\uC6B0\uC5D0\uB3C4 \uB124\uD2B8\uC6CC\uD06C \uC124\uC815\uC5D0\uC11C \uD3EC\uD2B8\uB97C \uC9C1\uC811 \uC5F4\uC5B4\uC57C \uD558\uB294 \uACBD\uC6B0\uAC00 \uB9CE\uC2B5\uB2C8\uB2E4.</p><h2 id="misskey-\u1103\u1166\u1106\u1169\u11AB-\u1109\u1162\u11BC\u1109\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#misskey-\u1103\u1166\u1106\u1169\u11AB-\u1109\u1162\u11BC\u1109\u1165\u11BC" aria-hidden="true">#</a> Misskey \uB370\uBAAC \uC0DD\uC131</h2><div class="custom-container tip"><i class="fas fa-info"></i><p>\uAC1C\uBC1C \uD658\uACBD\uC758 \uACBD\uC6B0, \uB370\uBAAC \uC0DD\uC131\uC740 \uD544\uC694\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.</p></div><p>\uC77C\uB2E8 <code>Ctrl+C</code>\uB85C \uD504\uB85C\uC138\uC2A4\uB97C \uC885\uB8CC\uD558\uACE0, Misskey\uB97C \uB370\uBAAC\uC73C\uB85C \uC2E4\uD589\uD558\uB3C4\uB85D \uC124\uC815\uD569\uB2C8\uB2E4. root \uAD8C\uD55C\uC73C\uB85C \uC124\uC815\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>/etc/systemd/system/misskey.service</code>\uB97C \uC0DD\uC131\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /etc/systemd/system/misskey.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\uB2E4\uC74C \uB0B4\uC6A9\uC744 \uBD99\uC5EC\uB123\uACE0 \uC800\uC7A5\uD569\uB2C8\uB2E4.</p><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Unit</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">Description</span><span class="token punctuation">=</span><span class="token value attr-value">Misskey daemon</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Service</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">Type</span><span class="token punctuation">=</span><span class="token value attr-value">simple</span>
<span class="token key attr-name">User</span><span class="token punctuation">=</span><span class="token value attr-value">misskey</span>
<span class="token key attr-name">ExecStart</span><span class="token punctuation">=</span><span class="token value attr-value">/usr/bin/npm start</span>
<span class="token key attr-name">WorkingDirectory</span><span class="token punctuation">=</span><span class="token value attr-value">/home/misskey/misskey</span>
<span class="token key attr-name">Environment</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">NODE_ENV=production</span>&quot;</span>
<span class="token key attr-name">TimeoutSec</span><span class="token punctuation">=</span><span class="token value attr-value">60</span>
<span class="token key attr-name">StandardOutput</span><span class="token punctuation">=</span><span class="token value attr-value">journal</span>
<span class="token key attr-name">StandardError</span><span class="token punctuation">=</span><span class="token value attr-value">journal</span>
<span class="token key attr-name">SyslogIdentifier</span><span class="token punctuation">=</span><span class="token value attr-value">misskey</span>
<span class="token key attr-name">Restart</span><span class="token punctuation">=</span><span class="token value attr-value">always</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Install</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">WantedBy</span><span class="token punctuation">=</span><span class="token value attr-value">multi-user.target</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>systemd\uB97C \uC124\uC815\uD558\uACE0 misskey \uB370\uBAAC\uC744 \uC2DC\uC791\uD569\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl daemon-reload

<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> misskey

<span class="token function">sudo</span> systemctl start misskey
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>systemctl\uB85C \uB370\uBAAC\uC758 \uC0C1\uD0DC\uB97C \uD655\uC778\uD569\uB2C8\uB2E4. \uC2DC\uC791\uC5D0 \uC2DC\uAC04\uC774 \uC870\uAE08 \uAC78\uB9AC\uBBC0\uB85C 15\uCD08 \uC815\uB3C4 \uAE30\uB2E4\uB838\uB2E4\uAC00 \uD655\uC778\uD558\uB294 \uAC83\uC774 \uC88B\uC2B5\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl status misskey
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>active\uC774\uBA74 OK.</p><p><strong>\uC774\uAC83\uC73C\uB85C Misskey \uC124\uCE58\uAC00 \uAC70\uC758 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.</strong></p><p>Misskey \uC11C\uBC84\uC5D0 \uC790\uC2E0\uC758 \uACC4\uC815\uC744 \uB4F1\uB85D\uD558\uACE0 \uB85C\uADF8\uC778\uD558\uC5EC \uC124\uC815\uC744 \uACC4\uC18D\uD574 \uBD05\uC2DC\uB2E4.</p><h2 id="misskey-\u1109\u1165\u11AF\u110C\u1165\u11BC-\u1100\u1168\u1109\u1169\u11A8\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#misskey-\u1109\u1165\u11AF\u110C\u1165\u11BC-\u1100\u1168\u1109\u1169\u11A8\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> Misskey \uC124\uC815 \uACC4\uC18D\uD558\uAE30</h2><ul><li><a href="https://hide.ac/articles/Y504SIabp" target="_blank" rel="noopener noreferrer"><strong>Misskey \uC11C\uBC84\uC5D0\uC11C \uAC00\uC7A5 \uBA3C\uC800 \uC124\uC815\uD574\uC57C \uD560 \uC11C\uBC84 \uC124\uC815 \uBC0F \uAE30\uD0C0 \uC124\uC815\uC5D0 \uB300\uD55C \uC124\uBA85</strong></a></li><li><a href="https://hide.ac/articles/MC7WsPDqw" target="_blank" rel="noopener noreferrer"><strong>Squid \uD504\uB85D\uC2DC\uB97C \uC124\uC815\uD558\uC5EC Misskey\uB97C \uBCF4\uD638\uD558\uC138\uC694</strong></a></li><li><a href="https://hide.ac/articles/E2Ea3cauk" target="_blank" rel="noopener noreferrer"><strong>Misskey\uC758 \uB370\uC774\uD130\uBCA0\uC774\uC2A4\uB97C \uBC31\uC5C5\uD558\uC790\u3010OCI \uC624\uBE0C\uC81D\uD2B8 \uC2A4\uD1A0\uB9AC\uC9C0 \uD3B8\u3011</strong></a></li></ul><h2 id="misskey-\u110B\u1165\u11B8\u1103\u1166\u110B\u1175\u1110\u1173" tabindex="-1"><a class="header-anchor" href="#misskey-\u110B\u1165\u11B8\u1103\u1166\u110B\u1175\u1110\u1173" aria-hidden="true">#</a> Misskey \uC5C5\uB370\uC774\uD2B8</h2><p>[\u2192 manual.html #Misskey \uC5C5\uB370\uC774\uD2B8 \uBC29\uBC95](https://misskey-hub.net/docs/install/manual.html#misskey%E3%81%AE%E3%82%A2%E3%83%83%E3%83%95%E3%82 %9A%E3%83%86%E3%82%99%E3%83%BC%E3%83%88%E6%96%B9%E6%B3%95)</p><p>\uC791\uC5C5 \uC911\uC5D0\uB294 Misskey\uB97C \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl stop misskey

<span class="token function">su</span> - misskey

<span class="token function">git</span> pull<span class="token punctuation">;</span>
<span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>production <span class="token function">pnpm</span> <span class="token function">install</span> --frozen-lockfile
<span class="token function">pnpm</span> run clean<span class="token punctuation">;</span>
<span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>production <span class="token function">pnpm</span> run build<span class="token punctuation">;</span>
<span class="token function">pnpm</span> run migrate<span class="token punctuation">;</span>

<span class="token builtin class-name">exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="case-1-apt-upgrade\u1105\u1173\u11AF-\u1112\u1161\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" tabindex="-1"><a class="header-anchor" href="#case-1-apt-upgrade\u1105\u1173\u11AF-\u1112\u1161\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" aria-hidden="true">#</a> Case 1: apt upgrade\uB97C \uD558\uB294 \uACBD\uC6B0</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update -y
<span class="token function">sudo</span> <span class="token function">apt</span> full-upgrade -y
<span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC7AC\uBD80\uD305 \uD6C4 Misskey\uB294 \uC790\uB3D9\uC73C\uB85C \uC2E4\uD589\uB429\uB2C8\uB2E4.</p><h3 id="case-2-\u1100\u1173\u1103\u1162\u1105\u1169-\u1107\u116E\u1110\u1175\u11BC" tabindex="-1"><a class="header-anchor" href="#case-2-\u1100\u1173\u1103\u1162\u1105\u1169-\u1107\u116E\u1110\u1175\u11BC" aria-hidden="true">#</a> Case 2: \uADF8\uB300\uB85C \uBD80\uD305</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start misskey
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,96);function R(F,T){const a=o("RouterLink");return d(),c("div",null,[p,s("ul",null,[s("li",null,[e(a,{to:"/ko/docs/install/manual.html"},{default:i(()=>[u]),_:1})]),s("li",null,[e(a,{to:"/ko/docs/install.html"},{default:i(()=>[v]),_:1})])]),m,s("p",null,[h,b,k,e(a,{to:"/ko/docs/install/bash.html"},{default:i(()=>[g]),_:1})]),f,s("p",null,[y,e(a,{to:"/ko/docs/install/manual.html"},{default:i(()=>[x]),_:1}),_]),s("p",null,[e(a,{to:"/ko/docs/install/docker.html"},{default:i(()=>[M]),_:1}),E]),C,q,s("p",null,[S,e(a,{to:"/ko/docs/install/manual.html"},{default:i(()=>[N]),_:1}),D]),w,s("p",null,[O,B,L,e(a,{to:"/ko/admin/cdn.html"},{default:i(()=>[A]),_:1})]),P])}var I=t(r,[["render",R],["__file","ubuntu-manual.html.vue"]]);export{I as default};
