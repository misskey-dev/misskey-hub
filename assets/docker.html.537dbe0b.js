import{_ as s,o as e,c as n,e as a}from"./app.c1b646c2.js";const i={},c=a(`<h1 id="\u5229\u7528-docker-compose-\u642D\u5EFA-misskey-\u5B9E\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u5229\u7528-docker-compose-\u642D\u5EFA-misskey-\u5B9E\u4F8B" aria-hidden="true">#</a> \u5229\u7528 Docker Compose \u642D\u5EFA Misskey \u5B9E\u4F8B</h1><p>\u672C\u7BC7\u6559\u7A0B\u53D9\u8FF0\u4E86\u5982\u4F55\u4F7F\u7528 Docker Compose \u5B89\u88C5\u548C\u8BBE\u7F6E Misskey\u3002</p><div class="custom-container danger"><i class="fas fa-times"></i><p>\u8BF7\u6CE8\u610F\uFF0C\u4E00\u65E6 Misskey \u5F00\u59CB\u8FD0\u884C\uFF0C\u4E0D\u8981\u66F4\u6539\u57DF\u540D\u548C\u670D\u52A1\u5668\u7684\u4E3B\u673A\u540D\u3002</p></div><div class="custom-container tip"><i class="fas fa-info"></i><p class="custom-container-title">\u5728\u5B89\u88C5\u4E4B\u524D\uFF0C\u8BF7\u786E\u4FDD\uFF1A</p><ul><li>\u5DF2\u5B89\u88C5 docker \u4E0E docker-compose\u3002</li></ul></div><h2 id="\u5C06-misskey-\u514B\u9686\u81F3\u672C\u5730\u5E76\u540C\u6B65-master" tabindex="-1"><a class="header-anchor" href="#\u5C06-misskey-\u514B\u9686\u81F3\u672C\u5730\u5E76\u540C\u6B65-master" aria-hidden="true">#</a> \u5C06 Misskey \u514B\u9686\u81F3\u672C\u5730\u5E76\u540C\u6B65 master</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone -b master https://github.com/misskey-dev/misskey.git
<span class="token builtin class-name">cd</span> misskey
<span class="token function">git</span> checkout master
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4FEE\u6539\u914D\u7F6E\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u914D\u7F6E\u6587\u6863" aria-hidden="true">#</a> \u4FEE\u6539\u914D\u7F6E\u6587\u6863</h2><p>\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u590D\u5236\u5E76\u91CD\u547D\u540D\u914D\u7F6E\u6587\u6863\u4EEC:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cp</span> .config/docker_example.yml .config/default.yml
<span class="token function">cp</span> .config/docker_example.env .config/docker.env
<span class="token function">cp</span> ./docker-compose.yml.example ./docker-compose.yml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6839\u636E\u6587\u4EF6\u4E2D\u7684\u8BF4\u660E\u7F16\u8F91 default.yml \u548C docker.env\u3002</p><p>\u5982\u6709\u5FC5\u8981\uFF0C\u7F16\u8F91 docker-compose.yml\uFF08\u5982\u679C\u8981\u66F4\u6539\u67D0\u4E9B\u7AEF\u53E3\uFF09\u3002</p><h2 id="\u7F16\u8BD1\u4E0E\u521D\u59CB\u5316" tabindex="-1"><a class="header-anchor" href="#\u7F16\u8BD1\u4E0E\u521D\u59CB\u5316" aria-hidden="true">#</a> \u7F16\u8BD1\u4E0E\u521D\u59CB\u5316</h2><p>\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u4EE5\u5F00\u59CB\u7F16\u8BD1 Misskey \u5E76\u521D\u59CB\u5316\u6570\u636E\u5E93\uFF0C\u8FD9\u9700\u8981\u4E00\u4E9B\u65F6\u95F4\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> compose build
<span class="token function">sudo</span> <span class="token function">docker</span> compose run --rm web <span class="token function">pnpm</span> run init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8" aria-hidden="true">#</a> \u542F\u52A8</h2><p>\u5E72\u5F97\u6F02\u4EAE\uFF01\u60A8\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u542F\u52A8 Misskey\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u795D\u60A8\u597D\u8FD0\u2728</p><h2 id="\u5982\u4F55\u66F4\u65B0" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u66F4\u65B0" aria-hidden="true">#</a> \u5982\u4F55\u66F4\u65B0</h2><div class="custom-container warning"><i class="fas fa-exclamation"></i><p>\u66F4\u65B0\u524D\uFF0C\u8BF7\u52A1\u5FC5\u67E5\u770B <a href="https://github.com/misskey-dev/misskey/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">\u7248\u672C\u8BF4\u660E</a> \u4EE5\u9884\u5148\u4E86\u89E3\u66F4\u6539\u548C\u662F\u5426\u9700\u8981\u989D\u5916\u5DE5\u4F5C\uFF08\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u4E0D\u9700\u8981\uFF09\u3002</p></div><p>\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u66F4\u65B0\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> stash
<span class="token function">git</span> checkout master
<span class="token function">git</span> pull
<span class="token function">git</span> submodule update --init
<span class="token function">git</span> stash pop
<span class="token function">sudo</span> <span class="token function">docker</span> compose build
<span class="token function">sudo</span> <span class="token function">docker</span> compose stop <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">docker</span> compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6839\u636E\u66F4\u65B0\u5185\u5BB9\u548C\u6570\u636E\u5E93\u5927\u5C0F\uFF0C\u53EF\u80FD\u9700\u8981\u4E00\u4E9B\u65F6\u95F4\u3002</p><h2 id="\u5982\u4F55\u6267\u884C-cli-\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u6267\u884C-cli-\u547D\u4EE4" aria-hidden="true">#</a> \u5982\u4F55\u6267\u884C CLI \u547D\u4EE4</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> compose run --rm web <span class="token function">node</span> packages/backend/built/tools/foo bar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,25),o=[c];function d(l,r){return e(),n("div",null,o)}var p=s(i,[["render",d],["__file","docker.html.vue"]]);export{p as default};
