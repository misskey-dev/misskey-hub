import{_ as e,o as n,c as a,e as s}from"./app.90823dc5.js";const i={},o=s(`<h1 id="skonfiguruj-instancje-misskey-za-pomoca-docker-compose" tabindex="-1"><a class="header-anchor" href="#skonfiguruj-instancje-misskey-za-pomoca-docker-compose" aria-hidden="true">#</a> Skonfiguruj instancje Misskey za pomoc\u0105 Docker Compose</h1><p>Ten poradnik opisze instalacj\u0119 i konfiguracj\u0119 Misskey za pomoc\u0105 Docker Compose.</p><div class="custom-container danger"><i class="fas fa-times"></i><p>Nigdy nie zmieniaj nazwy domeny(hostname) instancji kiedy zaczniesz z niej korzysta\u0107!!</p></div><p>::: Wymagania</p><ul><li>docker i dockercompose zainstalowane :::</li></ul><h2 id="pobierz-repozytorium" tabindex="-1"><a class="header-anchor" href="#pobierz-repozytorium" aria-hidden="true">#</a> Pobierz repozytorium</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone -b master https://github.com/misskey-dev/misskey.git
<span class="token builtin class-name">cd</span> misskey
<span class="token function">git</span> checkout master
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="skonfiguruj" tabindex="-1"><a class="header-anchor" href="#skonfiguruj" aria-hidden="true">#</a> Skonfiguruj</h2><p>Skopiuj pliki przyk\u0142adowe:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cp</span> .config/docker_example.yml .config/default.yml
<span class="token function">cp</span> .config/docker_example.env .config/docker.env
<span class="token function">cp</span> ./docker-compose.yml.example ./docker-compose.yml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Edytuj <code>default.yml</code> i <code>docker.env</code> do instrkcji w pliku.</p><p>Edytuj <code>docker-compose.yml</code> je\u015Bli wymagane. (kiedy na przyk\u0142ad: chcesz zmieni\u0107 port).</p><h2 id="zbuduj-i-zinicjuj" tabindex="-1"><a class="header-anchor" href="#zbuduj-i-zinicjuj" aria-hidden="true">#</a> Zbuduj i zinicjuj</h2><p>Podana komenda zbuduje Misskey i uruchomi baz\u0119 danych. Zajmie to troch\u0119 czasu.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> compose build
<span class="token function">sudo</span> <span class="token function">docker</span> compose run --rm web <span class="token function">pnpm</span> run init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="uruchom-misskey" tabindex="-1"><a class="header-anchor" href="#uruchom-misskey" aria-hidden="true">#</a> Uruchom Misskey</h2><p>SUPER! Mo\u017Cesz uruchomi\u0107 Misskey za pomoc\u0105 poni\u017Cszej komendy.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>GLHF\u2728</p><h2 id="aktualizacja-serwera-misskey" tabindex="-1"><a class="header-anchor" href="#aktualizacja-serwera-misskey" aria-hidden="true">#</a> Aktualizacja serwera Misskey</h2><p>::: Uwaga Aktualizuj\u0105c prosz\u0119 sprawd\u017A <a href="https://github.com/misskey-dev/misskey/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">informacje o wydaniach</a> by wiedzie\u0107 wcze\u015Bniej o zmianachoraz czy nie b\u0119dzie trzeba wykona\u0107 jaki\u015B dodatkowych zmian.(zazwyczaj nie trzeba). :::</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> stash
<span class="token function">git</span> checkout master
<span class="token function">git</span> pull
<span class="token function">git</span> submodule update --init
<span class="token function">git</span> stash pop
<span class="token function">sudo</span> <span class="token function">docker</span> compose build
<span class="token function">sudo</span> <span class="token function">docker</span> compose stop <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">docker</span> compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Mo\u017Ce to potrwa\u0107 troch\u0119 czasu w zale\u017Cno\u015Bci od wielko\u015Bci danych instancji.</p><h2 id="wykonywanie-komendy-w-cli" tabindex="-1"><a class="header-anchor" href="#wykonywanie-komendy-w-cli" aria-hidden="true">#</a> Wykonywanie komendy w CLI</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> compose run --rm web <span class="token function">node</span> packages/backend/built/tools/foo bar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,25),c=[o];function d(r,t){return n(),a("div",null,c)}var u=e(i,[["render",d],["__file","docker.html.vue"]]);export{u as default};
